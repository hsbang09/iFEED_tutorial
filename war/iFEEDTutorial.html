<!doctype html>


<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="iFEEDTutorial.css">   
    <script src="js/lib/jquery.js" type="text/javascript"></script>
    <script src="js/lib/d3.js"></script>                                  
    <title>iFEED Web Application</title>
	<style>
		#div1, #div2 {
		    float: left;
		    width: 100px;
		    height: 35px;
		    margin: 10px;
		    padding: 10px;
		    border: 1px solid black;
		}
		
		.img-hor-vert {
		    -moz-transform: scale(-1, -1);
		    -o-transform: scale(-1, -1);
		    -webkit-transform: scale(-1, -1);
		    transform: scale(-1, -1);
		}
		
		
	</style>
  </head>

  <body>
    <h1>iFEED Tutorial</h1>
   
    <div id="main_div" style="margin:auto;width:80%;background-color:#F9E39D;padding:20px">
    	<h3 id="main_header"></h3>
    	<p id="main_text" style="font-size:18px"></p>
    	<img id="main_img" style="margin:auto;">
    	<img id="main_img2" style="margin:auto;">
    	<p id="main_text3" style="font-size:18px"></p>
    	
    	<p id="main_img_credit" style="margin-top:5px; font-size:10px"></p>
    	
    	
    	<div id="arrow_div" style="margin-top:30px">
    		<img src="images/rightarrow.png" class="img-hor-vert" id="leftarrow" width="48" height="31">
    		<img src="images/rightarrow.png" id="rightarrow" width="48" height="31">
    	</div>
    </div>
    
    
    
    

<!-- 	<div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"> -->
<!-- 	  <img src="images/bread.jpg" draggable="true" ondragstart="drag(event)" id="drag1" width="88" height="31"> -->
<!-- 	</div> -->
	
<!-- 	<div id="div2" ondrop="drop(event)" ondragover="allowDrop(event)"></div> -->



<script>

var current_view;
if(window.location.search){
	current_view = 4;	
}else{
	current_view = 1;
}


function allowDrop(ev) {
    ev.preventDefault();
}

function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
}

function drop(ev) {
    ev.preventDefault();
    var data = ev.dataTransfer.getData("text");
    ev.target.appendChild(document.getElementById(data));
    console.log(ev.target.id);
}


function click_leftarrow(){
	if(current_view==1){
		return;
	}else{
		current_view= current_view-1;
	}
	display_views();
}
function click_rightarrow(){
	current_view = current_view+1;
	display_views();
}

function clear_view(){
	d3.select("#main_header").text("");
	d3.select("#main_text").text('');
	
	d3.select("#main_img").attr("src","")
			.style("width","0%")
			.style("opacity",0);
	
	d3.select("#main_text2").remove();

	d3.select("#main_img2").attr("src","")
			.style("width","0%")
			.style("opacity",0);
	
	d3.select("#main_text3").text('');
	
	d3.select("#main_img_credit").text("");
}

function display_views(){
	clear_view();
	if(current_view==1){
		d3.select("#main_header").text("Experiment overview");
		d3.select("#main_text").text('You will be given 30 minutes to use the web-based data-analysis tool called iFEED'
				+'(Interactive Feature Extraction in Engineering Design) to analyze a given set of data. '
				+'The data consists of a large number of satellite system designs, associated with corresponding science score and the cost. ' 
				+'Your task is to interact with the analysis tool and to learn about the data as much as possible.');
		d3.select("#main_img").attr("src","images/a-train.png")
			.style("width","50%")
			.style("margin","auto")
			.style('opacity',1);
		d3.select("#main_img_credit").text("Image credit: NASA A-train Satellite Constellation");
		
		d3.select('#leftarrow').style('opacity',0.3);
	}
	else if (current_view==2){
		d3.select("#main_header").text("Design Task: Satellite system design");
		d3.select("#main_text").text("The provided data will contain various designs of satellite system."
				+' Each design consists of multiple satellites working together to satisfy certain measurement requirements'
				+' related to climate monitoring. Different designs will be defined by what measurement instruments are used'
				+' in each spacecraft, and in what orbits those spacecrafts fly.');
		d3.select("#main_img").attr("src","images/sat_instruments_labeled.png")
				.style("width","30%")
				.style('opacity',1);
		d3.select("#main_img2").attr("src","images/orbit_img_labeled.png")
				.style("width","50%")
				.style('opacity',1);

		d3.select("#main_img_credit").text("Image credit: NASA TRMM & European Space Agency");
		d3.select('#leftarrow').style('opacity',1);
	}
	else if (current_view==3){
		d3.select("#main_header").text("Design Task: Satellite system design - Continued");
		d3.select("#main_text")
				.text('Each design is represented by a figure similar to the one shown below:');
		d3.select('#main_img').attr('src','images/architecture_example.png')
				.style("width","42%")
				.style("opacity",1);
		
		d3.select('#main_div').insert('p','#main_img2')
				.attr('id','main_text2')
				.style('font-size','18px')
				.text('The figure shows which set of instruments are assigned to fly in a particular orbit. '
						+'Multiple instruments assigned to one orbit indicates that one spacecraft will carry all those'
						+' instruments and fly in the given orbit. Empty orbit means no spacecraft will fly in that orbit.'
						+' The real names of orbits and instruments were changed to numbers and alphabetical letters to simplify the analysis task');

		d3.select("#main_img2").attr("src","images/candidate_list.png")
				.style("width","40%")
				.style('opacity',1);
		
		d3.select("#main_text3")
				.text('There are total 5 candidate orbits, and 12 available measurement instruments as shown above.');
	}
	else if (current_view==4){
		d3.select("#main_header").text("Design Task: Synergies between instruments");
		d3.select("#main_text")
				.text('Each design will have corresponding science benefit score and cost. '
						+'The science benefit score is a score that is computed using very complex models'
						+' to evaluate the performance and capabilities of each satellite system. '
						+'The low-cost and high-science score designs are desirable. '
						+'Note that, particular combinations of instruments and instrument-to-orbit assignments will '
						+'may have synergistic effects. For example, assigning two particular instruments '
						+'in the same orbit may result in much higher score than having four arbitrary '
						+'instruments in one orbit.');
		
		d3.select('#main_div').insert('p','#main_img2')
			.attr('id','main_text2')
			.style('font-size','18px')
			.html('<p>Your goal in this task is to do the followings:</p>'
							+'<p>1) Find as many patterns (features) as possible that maximizes '
							+'science benefit score, while keeping the cost low. </p>'
							+'<p>2) Using “define new filter” function, try to generate a new filter that'
							+'classifies good designs (high science score and low cost) from the rest of the designs.</p>'
							+'<p>Next, we will introduce how the iFEED interface looks like and how to use it for data analysis.</p>');
	}

	
	
	else if (current_view==5){
		window.location.replace("iFEEDMain.html");
	}
}
	

d3.select("#leftarrow").on("click",click_leftarrow);
d3.select("#rightarrow").on("click",click_rightarrow);
display_views();





</script>







  </body>
</html>
